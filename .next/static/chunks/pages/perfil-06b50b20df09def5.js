(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[794],{423:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>p});var r=t(7876),s=t(4232),l=t(6184),i=t(7274),n=t(7685),d=t(2671),o=t(1713);let c=(0,o.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),x=(0,o.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),u=(0,o.A)("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),h=(0,o.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function m(e){let{user:a}=e,[t,l]=(0,s.useState)(""),[o,m]=(0,s.useState)(!1);if(!a)return(0,r.jsx)("div",{children:"Carregando perfil..."});let f=async e=>{if(e.preventDefault(),!t)return void n.oR.error("Por favor, insira uma nova senha.");m(!0);try{let{error:e}=await i.N.auth.updateUser({password:t});if(e)throw e;n.oR.success("Senha atualizada com sucesso!"),l("")}catch(e){n.oR.error("Erro ao atualizar a senha: ".concat(e.message))}finally{m(!1)}};return(0,r.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-md max-w-2xl mx-auto perfilCard text-center w-full",style:{maxWidth:"100vw",boxSizing:"border-box",margin:"0 auto"},children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-8 flex-col sm:flex-row justify-center text-center w-full",children:[(0,r.jsx)(d.A,{className:"text-blue-600",size:32}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Informa\xe7\xf5es do Perfil"})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg flex-col sm:flex-row justify-center text-center w-full",children:[(0,r.jsx)(c,{className:"text-gray-500",size:20}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Email"}),(0,r.jsx)("p",{className:"text-gray-800 font-semibold",children:a.email})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg flex-col sm:flex-row justify-center text-center w-full",children:[(0,r.jsx)(x,{className:"text-gray-500",size:20}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Membro desde"}),(0,r.jsx)("p",{className:"text-gray-800 font-semibold",children:new Date(a.created_at).toLocaleDateString("pt-BR")})]})]})]}),(0,r.jsx)("hr",{className:"my-8 border-gray-200"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,r.jsx)(u,{className:"text-gray-600"}),"Alterar Senha"]}),(0,r.jsxs)("form",{onSubmit:f,className:"flex flex-col sm:flex-row items-center gap-2 perfilInput w-full justify-center",children:[(0,r.jsx)("input",{type:"password",value:t,onChange:e=>l(e.target.value),placeholder:"Digite a nova senha",className:"w-full max-w-xs mx-auto px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition perfilInput text-center"}),(0,r.jsx)("button",{type:"submit",disabled:o,className:"p-3 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition disabled:bg-blue-400 perfilButton",title:"Salvar nova senha",children:o?(0,r.jsx)("div",{className:"w-5 h-5 border-t-2 border-white rounded-full animate-spin"}):(0,r.jsx)(h,{size:18})})]})]})]})}var f=t(9099);function p(e){let{user:a,loading:t}=(0,l.A)(),i=(0,f.useRouter)();return((0,s.useEffect)(()=>{t||a||i.replace("/login")},[a,t,i]),t||!a)?(0,r.jsx)("div",{children:"Carregando..."}):(0,r.jsx)("div",{style:{width:"100%",boxSizing:"border-box",overflowX:"auto",paddingTop:"2rem",minHeight:"100vh",background:"#030712"},children:(0,r.jsx)("div",{style:{maxWidth:1400,margin:"0 auto",padding:"0 2rem"},children:(0,r.jsx)("main",{style:{flex:1,minWidth:0,padding:"2rem"},children:(0,r.jsx)(m,{user:a})})})})}},5732:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/perfil",function(){return t(423)}])}},e=>{var a=a=>e(e.s=a);e.O(0,[636,593,792],()=>a(5732)),_N_E=e.O()}]);